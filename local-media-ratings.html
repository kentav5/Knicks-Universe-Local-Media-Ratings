<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Knicks Universe â€“ Local NYC Media Ratings</title>
  <meta name="description" content="Rate local NYC media personalities covering the Knicks. Votes are stored via Google Forms without leaving the page; live averages update automatically." />

  <style>
    :root{
      --knicks-blue:#006BB6;
      --knicks-orange:#F58426;
      --bg:#0b1020;
      --card:#0f172a;
      --card2:#111c34;
      --text:#f8fafc;
      --muted:#a7b0c0;
      --border:rgba(148,163,184,.22);
      --shadow:0 10px 30px rgba(0,0,0,.35);
      --success:#22c55e;
    }

    *{ box-sizing:border-box; }
    body{
      margin:0;
      font-family:system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,Cantarell,"Helvetica Neue",Arial;
      background:
        radial-gradient(900px 500px at 15% 10%, rgba(0,107,182,.25), transparent 55%),
        radial-gradient(900px 500px at 85% 15%, rgba(245,132,38,.18), transparent 55%),
        var(--bg);
      color:var(--text);
    }

    .wrap{
      max-width:1100px;
      margin:0 auto;
      padding:20px 16px 70px;
    }

    /* Top Nav (Knicks Universe) */
    .nav{
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:12px;
      padding:10px 0 16px;
      border-bottom:1px solid rgba(148,163,184,.22);
      margin-bottom:14px;
    }
    .nav-left{
      display:flex;
      align-items:center;
      gap:10px;
      min-width:0;
    }
    .nav-logo{
      width:34px;height:34px;border-radius:10px;
      background:linear-gradient(135deg, rgba(0,107,182,.95), rgba(245,132,38,.92));
      box-shadow:0 10px 20px rgba(0,0,0,.25);
      flex:0 0 auto;
    }
    .nav-title{
      font-weight:950;
      letter-spacing:.2px;
      white-space:nowrap;
      overflow:hidden;
      text-overflow:ellipsis;
    }
    .nav-links{
      display:flex;
      flex-wrap:wrap;
      gap:10px;
      align-items:center;
    }
    .nav a{
      text-decoration:none;
      color:var(--text);
      font-weight:900;
      font-size:.9rem;
      padding:8px 12px;
      border-radius:999px;
      border:1px solid rgba(148,163,184,.22);
      background:rgba(2,6,23,.22);
      transition:transform .12s ease, border-color .12s ease;
    }
    .nav a:hover{
      transform:translateY(-1px);
      border-color:rgba(245,132,38,.45);
    }
    .nav a.active{
      border-color:var(--knicks-orange);
      box-shadow:0 0 0 2px rgba(245,132,38,.22);
    }

    header{
      display:flex;
      align-items:flex-end;
      justify-content:space-between;
      gap:18px;
      flex-wrap:wrap;
      padding:10px 0 18px;
      border-bottom:1px solid var(--border);
      margin-bottom:12px;
    }

    .brand{
      display:flex;
      flex-direction:column;
      gap:6px;
    }
    .brand h1{
      margin:0;
      font-size:1.55rem;
      letter-spacing:.2px;
    }
    .brand p{
      margin:0;
      color:var(--muted);
      font-size:.95rem;
      line-height:1.35;
      max-width:820px;
    }

    .badge{
      display:inline-flex;
      align-items:center;
      gap:10px;
      padding:10px 12px;
      border:1px solid var(--border);
      border-radius:14px;
      background:rgba(15,23,42,.7);
      box-shadow:var(--shadow);
      font-weight:800;
      font-size:.9rem;
      white-space:nowrap;
    }
    .dot{
      width:10px;height:10px;border-radius:999px;
      background:var(--knicks-orange);
      box-shadow:0 0 0 4px rgba(245,132,38,.22);
    }

    /* Sort bar */
    .sortbar{
      margin-top:12px;
      display:flex;
      flex-wrap:wrap;
      gap:10px;
      align-items:center;
      justify-content:flex-start;
    }
    .sortbar-label{
      color:var(--muted);
      font-size:.9rem;
      font-weight:800;
    }
    .sortbtn{
      padding:8px 12px;
      border-radius:999px;
      border:1px solid var(--border);
      background:rgba(15,23,42,.82);
      color:var(--text);
      cursor:pointer;
      font-weight:900;
      font-size:.85rem;
      transition:transform .12s ease;
    }
    .sortbtn:hover{ transform:translateY(-1px); }
    .sortbtn.active{
      border-color:var(--knicks-orange);
      box-shadow:0 0 0 2px rgba(245,132,38,.25);
    }

    /* Grid + cards */
    .cards-grid{
      display:grid;
      grid-template-columns:repeat(3, minmax(0, 1fr));
      gap:16px;
      margin-top:14px;
    }
    @media (max-width: 980px){
      .cards-grid{ grid-template-columns:repeat(2, minmax(0, 1fr)); }
    }
    @media (max-width: 620px){
      .cards-grid{ grid-template-columns:1fr; }
    }

    .card{
      border:1px solid var(--border);
      border-radius:18px;
      background:linear-gradient(180deg, rgba(17,28,52,.98), rgba(15,23,42,.98));
      box-shadow:var(--shadow);
      overflow:hidden;
      display:flex;
      flex-direction:column;
      min-height: 520px;
    }

    .imgwrap{
      background:rgba(2,6,23,.30);
      padding:10px;
    }
    .img{
      width:100%;
      height:210px;
      object-fit:cover;
      border-radius:14px;
      display:block;
      background:rgba(255,255,255,.04);
    }

    .content{
      padding:14px 14px 16px;
      display:flex;
      flex-direction:column;
      gap:10px;
      flex:1;
    }

    .name{
      font-size:1.05rem;
      font-weight:950;
      margin:0;
      line-height:1.15;
    }
    .meta{
      color:var(--muted);
      font-size:.9rem;
      line-height:1.25;
      margin:0;
    }

    .stats{
      display:flex;
      gap:10px;
      flex-wrap:wrap;
      margin-top:2px;
    }
    .pill{
      display:inline-flex;
      align-items:center;
      gap:8px;
      padding:8px 10px;
      border-radius:999px;
      border:1px solid rgba(148,163,184,.20);
      background:rgba(2,6,23,.25);
      font-weight:900;
      font-size:.85rem;
      color:var(--text);
    }
    .pill span{
      color:var(--muted);
      font-weight:800;
    }

    label{
      display:block;
      font-weight:900;
      font-size:.9rem;
      margin-top:6px;
      color:var(--text);
    }

    select{
      width:100%;
      margin-top:6px;
      padding:10px 12px;
      border-radius:12px;
      border:1px solid rgba(148,163,184,.25);
      background:rgba(2,6,23,.30);
      color:var(--text);
      font-weight:800;
      outline:none;
    }

    .btn{
      margin-top:10px;
      width:100%;
      padding:11px 14px;
      border-radius:14px;
      border:0;
      cursor:pointer;
      font-weight:950;
      color:#071018;
      background:linear-gradient(90deg, rgba(0,107,182,.95), rgba(245,132,38,.92));
      box-shadow:0 10px 20px rgba(0,0,0,.25);
      transition:transform .10s ease, opacity .10s ease;
    }
    .btn:hover{ transform:translateY(-1px); }
    .btn:disabled{ opacity:.65; cursor:default; transform:none; }

    .confirm{
      display:none;
      margin-top:10px;
      font-weight:900;
      color:var(--success);
      font-size:.9rem;
    }
    .confirm.show{ display:block; }

    footer{
      margin-top:18px;
      border-top:1px solid var(--border);
      padding-top:14px;
      color:var(--muted);
      font-size:.85rem;
      line-height:1.35;
    }
    code{
      background:rgba(2,6,23,.35);
      border:1px solid rgba(148,163,184,.18);
      padding:2px 6px;
      border-radius:8px;
      color:var(--text);
    }
  </style>
</head>

<body>
  <div class="wrap">

    <nav class="nav">
      <div class="nav-left">
        <div class="nav-logo" aria-hidden="true"></div>
        <div class="nav-title">Knicks Universe</div>
      </div>
      <div class="nav-links">
        <!-- Adjust these links if needed -->
        <a href="https://kentav5.github.io/Knicks-Universe-Media-Ratings/media-ratings.html">National Media</a>
        <a class="active" href="local-media-ratings.html">Local NYC Media</a>
        <a href="https://kentav5.github.io/Knicks-Universe---Player-Polls/ratings.html" target="_blank" rel="noopener">Player Ratings</a>
      </div>
    </nav>

    <header>
      <div class="brand">
        <h1>Local NYC Media Ratings</h1>
        <p>
          Rate local NYC media personalities from <strong>GOAT (10)</strong> to <strong>Trash (1)</strong>.
          Your vote is recorded instantly without leaving the page. Live averages refresh automatically.
        </p>

        <div class="sortbar" aria-label="Sort controls">
          <span class="sortbar-label">Sort:</span>
          <button class="sortbtn active" type="button" data-sort="rating">Highest Rated</button>
          <button class="sortbtn" type="button" data-sort="votes">Most Votes</button>
          <button class="sortbtn" type="button" data-sort="az">Aâ€“Z</button>
        </div>
      </div>

      <div class="badge"><span class="dot"></span> Live fan voting</div>
    </header>

    <!-- Hidden target so Googleâ€™s response doesnâ€™t navigate away -->
    <iframe name="ku_hidden_submit_local" style="display:none;"></iframe>

    <div class="cards-grid" id="cardsGrid">

      <!-- TEMPLATE NOTES:
        - image paths assume you upload files into: /images/local/
        - you can rename paths but keep them consistent
      -->

      <!-- 1) Ian Begley -->
      <form class="card ku-card"
            data-name="Ian Begley"
            action="REPLACE_FORM_ACTION_URL"
            method="POST"
            target="ku_hidden_submit_local">
        <div class="imgwrap">
          <img class="img" src="images/local/ian_begley.jpg" alt="Ian Begley">
        </div>
        <div class="content">
          <h2 class="name">Ian Begley</h2>
          <p class="meta">Local NYC / Knicks coverage</p>

          <div class="stats">
            <div class="pill"><span>Avg</span> <strong class="avg">â€”</strong></div>
            <div class="pill"><span>Votes</span> <strong class="votes">â€”</strong></div>
          </div>

          <!-- Hidden personality field -->
          <input type="hidden" name="REPLACE_ENTRY_PERSON" value="Ian Begley">

          <label>Your Rating</label>
          <select name="REPLACE_ENTRY_RATING" required>
            <option value="" disabled selected>Select your rating</option>
            <option value="10">10 â€“ GOAT ğŸ</option>
            <option value="9">9 â€“ Elite ğŸ™ï¸</option>
            <option value="8">8 â€“ Great Take ğŸ”¥</option>
            <option value="7">7 â€“ Solid ğŸ—½</option>
            <option value="6">6 â€“ Decent ğŸ‘</option>
            <option value="5">5 â€“ Mid ğŸŸ°</option>
            <option value="4">4 â€“ Weak Take ğŸ’¤</option>
            <option value="3">3 â€“ Reaching ğŸ¤¨</option>
            <option value="2">2 â€“ Clickbait ğŸ§²</option>
            <option value="1">1 â€“ Trash ğŸ—‘ï¸</option>
          </select>

          <button class="btn" type="submit">Submit Vote</button>
          <div class="confirm">Thanks! Your vote was recorded.</div>
        </div>
      </form>

      <!-- 2) Bill Pidto -->
      <form class="card ku-card" data-name="Bill Pidto"
            action="REPLACE_FORM_ACTION_URL" method="POST" target="ku_hidden_submit_local">
        <div class="imgwrap"><img class="img" src="images/local/bill_pidto.jpg" alt="Bill Pidto"></div>
        <div class="content">
          <h2 class="name">Bill Pidto</h2>
          <p class="meta">MSG / Knicks TV</p>
          <div class="stats">
            <div class="pill"><span>Avg</span> <strong class="avg">â€”</strong></div>
            <div class="pill"><span>Votes</span> <strong class="votes">â€”</strong></div>
          </div>
          <input type="hidden" name="REPLACE_ENTRY_PERSON" value="Bill Pidto">
          <label>Your Rating</label>
          <select name="REPLACE_ENTRY_RATING" required>
            <option value="" disabled selected>Select your rating</option>
            <option value="10">10 â€“ GOAT ğŸ</option><option value="9">9 â€“ Elite ğŸ™ï¸</option><option value="8">8 â€“ Great Take ğŸ”¥</option>
            <option value="7">7 â€“ Solid ğŸ—½</option><option value="6">6 â€“ Decent ğŸ‘</option><option value="5">5 â€“ Mid ğŸŸ°</option>
            <option value="4">4 â€“ Weak Take ğŸ’¤</option><option value="3">3 â€“ Reaching ğŸ¤¨</option><option value="2">2 â€“ Clickbait ğŸ§²</option>
            <option value="1">1 â€“ Trash ğŸ—‘ï¸</option>
          </select>
          <button class="btn" type="submit">Submit Vote</button>
          <div class="confirm">Thanks! Your vote was recorded.</div>
        </div>
      </form>

      <!-- 3) Wally Szczerbiak -->
      <form class="card ku-card" data-name="Wally Szczerbiak"
            action="REPLACE_FORM_ACTION_URL" method="POST" target="ku_hidden_submit_local">
        <div class="imgwrap"><img class="img" src="images/local/wally_szczerbiak.jpg" alt="Wally Szczerbiak"></div>
        <div class="content">
          <h2 class="name">Wally Szczerbiak</h2>
          <p class="meta">MSG / Knicks TV</p>
          <div class="stats">
            <div class="pill"><span>Avg</span> <strong class="avg">â€”</strong></div>
            <div class="pill"><span>Votes</span> <strong class="votes">â€”</strong></div>
          </div>
          <input type="hidden" name="REPLACE_ENTRY_PERSON" value="Wally Szczerbiak">
          <label>Your Rating</label>
          <select name="REPLACE_ENTRY_RATING" required>
            <option value="" disabled selected>Select your rating</option>
            <option value="10">10 â€“ GOAT ğŸ</option><option value="9">9 â€“ Elite ğŸ™ï¸</option><option value="8">8 â€“ Great Take ğŸ”¥</option>
            <option value="7">7 â€“ Solid ğŸ—½</option><option value="6">6 â€“ Decent ğŸ‘</option><option value="5">5 â€“ Mid ğŸŸ°</option>
            <option value="4">4 â€“ Weak Take ğŸ’¤</option><option value="3">3 â€“ Reaching ğŸ¤¨</option><option value="2">2 â€“ Clickbait ğŸ§²</option>
            <option value="1">1 â€“ Trash ğŸ—‘ï¸</option>
          </select>
          <button class="btn" type="submit">Submit Vote</button>
          <div class="confirm">Thanks! Your vote was recorded.</div>
        </div>
      </form>

      <!-- 4) Alan Hahn -->
      <form class="card ku-card" data-name="Alan Hahn"
            action="REPLACE_FORM_ACTION_URL" method="POST" target="ku_hidden_submit_local">
        <div class="imgwrap"><img class="img" src="images/local/alan_hahn.jpg" alt="Alan Hahn"></div>
        <div class="content">
          <h2 class="name">Alan Hahn</h2>
          <p class="meta">NYC radio / Knicks</p>
          <div class="stats">
            <div class="pill"><span>Avg</span> <strong class="avg">â€”</strong></div>
            <div class="pill"><span>Votes</span> <strong class="votes">â€”</strong></div>
          </div>
          <input type="hidden" name="REPLACE_ENTRY_PERSON" value="Alan Hahn">
          <label>Your Rating</label>
          <select name="REPLACE_ENTRY_RATING" required>
            <option value="" disabled selected>Select your rating</option>
            <option value="10">10 â€“ GOAT ğŸ</option><option value="9">9 â€“ Elite ğŸ™ï¸</option><option value="8">8 â€“ Great Take ğŸ”¥</option>
            <option value="7">7 â€“ Solid ğŸ—½</option><option value="6">6 â€“ Decent ğŸ‘</option><option value="5">5 â€“ Mid ğŸŸ°</option>
            <option value="4">4 â€“ Weak Take ğŸ’¤</option><option value="3">3 â€“ Reaching ğŸ¤¨</option><option value="2">2 â€“ Clickbait ğŸ§²</option>
            <option value="1">1 â€“ Trash ğŸ—‘ï¸</option>
          </select>
          <button class="btn" type="submit">Submit Vote</button>
          <div class="confirm">Thanks! Your vote was recorded.</div>
        </div>
      </form>

      <!-- 5) Monica McNutt -->
      <form class="card ku-card" data-name="Monica McNutt"
            action="REPLACE_FORM_ACTION_URL" method="POST" target="ku_hidden_submit_local">
        <div class="imgwrap"><img class="img" src="images/local/monica_mcnutt.jpg" alt="Monica McNutt"></div>
        <div class="content">
          <h2 class="name">Monica McNutt</h2>
          <p class="meta">NYC / Knicks coverage</p>
          <div class="stats">
            <div class="pill"><span>Avg</span> <strong class="avg">â€”</strong></div>
            <div class="pill"><span>Votes</span> <strong class="votes">â€”</strong></div>
          </div>
          <input type="hidden" name="REPLACE_ENTRY_PERSON" value="Monica McNutt">
          <label>Your Rating</label>
          <select name="REPLACE_ENTRY_RATING" required>
            <option value="" disabled selected>Select your rating</option>
            <option value="10">10 â€“ GOAT ğŸ</option><option value="9">9 â€“ Elite ğŸ™ï¸</option><option value="8">8 â€“ Great Take ğŸ”¥</option>
            <option value="7">7 â€“ Solid ğŸ—½</option><option value="6">6 â€“ Decent ğŸ‘</option><option value="5">5 â€“ Mid ğŸŸ°</option>
            <option value="4">4 â€“ Weak Take ğŸ’¤</option><option value="3">3 â€“ Reaching ğŸ¤¨</option><option value="2">2 â€“ Clickbait ğŸ§²</option>
            <option value="1">1 â€“ Trash ğŸ—‘ï¸</option>
          </select>
          <button class="btn" type="submit">Submit Vote</button>
          <div class="confirm">Thanks! Your vote was recorded.</div>
        </div>
      </form>

      <!-- 6) Stefan Bondy -->
      <form class="card ku-card" data-name="Stefan Bondy"
            action="REPLACE_FORM_ACTION_URL" method="POST" target="ku_hidden_submit_local">
        <div class="imgwrap"><img class="img" src="images/local/stefan_bondy.jpg" alt="Stefan Bondy"></div>
        <div class="content">
          <h2 class="name">Stefan Bondy</h2>
          <p class="meta">NYC beat / Knicks</p>
          <div class="stats">
            <div class="pill"><span>Avg</span> <strong class="avg">â€”</strong></div>
            <div class="pill"><span>Votes</span> <strong class="votes">â€”</strong></div>
          </div>
          <input type="hidden" name="REPLACE_ENTRY_PERSON" value="Stefan Bondy">
          <label>Your Rating</label>
          <select name="REPLACE_ENTRY_RATING" required>
            <option value="" disabled selected>Select your rating</option>
            <option value="10">10 â€“ GOAT ğŸ</option><option value="9">9 â€“ Elite ğŸ™ï¸</option><option value="8">8 â€“ Great Take ğŸ”¥</option>
            <option value="7">7 â€“ Solid ğŸ—½</option><option value="6">6 â€“ Decent ğŸ‘</option><option value="5">5 â€“ Mid ğŸŸ°</option>
            <option value="4">4 â€“ Weak Take ğŸ’¤</option><option value="3">3 â€“ Reaching ğŸ¤¨</option><option value="2">2 â€“ Clickbait ğŸ§²</option>
            <option value="1">1 â€“ Trash ğŸ—‘ï¸</option>
          </select>
          <button class="btn" type="submit">Submit Vote</button>
          <div class="confirm">Thanks! Your vote was recorded.</div>
        </div>
      </form>

      <!-- 7) Peter Botte -->
      <form class="card ku-card" data-name="Peter Botte"
            action="REPLACE_FORM_ACTION_URL" method="POST" target="ku_hidden_submit_local">
        <div class="imgwrap"><img class="img" src="images/local/peter_botte.jpg" alt="Peter Botte"></div>
        <div class="content">
          <h2 class="name">Peter Botte</h2>
          <p class="meta">NYC beat / Knicks</p>
          <div class="stats">
            <div class="pill"><span>Avg</span> <strong class="avg">â€”</strong></div>
            <div class="pill"><span>Votes</span> <strong class="votes">â€”</strong></div>
          </div>
          <input type="hidden" name="REPLACE_ENTRY_PERSON" value="Peter Botte">
          <label>Your Rating</label>
          <select name="REPLACE_ENTRY_RATING" required>
            <option value="" disabled selected>Select your rating</option>
            <option value="10">10 â€“ GOAT ğŸ</option><option value="9">9 â€“ Elite ğŸ™ï¸</option><option value="8">8 â€“ Great Take ğŸ”¥</option>
            <option value="7">7 â€“ Solid ğŸ—½</option><option value="6">6 â€“ Decent ğŸ‘</option><option value="5">5 â€“ Mid ğŸŸ°</option>
            <option value="4">4 â€“ Weak Take ğŸ’¤</option><option value="3">3 â€“ Reaching ğŸ¤¨</option><option value="2">2 â€“ Clickbait ğŸ§²</option>
            <option value="1">1 â€“ Trash ğŸ—‘ï¸</option>
          </select>
          <button class="btn" type="submit">Submit Vote</button>
          <div class="confirm">Thanks! Your vote was recorded.</div>
        </div>
      </form>

      <!-- 8) Kristian Winfield -->
      <form class="card ku-card" data-name="Kristian Winfield"
            action="REPLACE_FORM_ACTION_URL" method="POST" target="ku_hidden_submit_local">
        <div class="imgwrap"><img class="img" src="images/local/kristian_winfield.jpg" alt="Kristian Winfield"></div>
        <div class="content">
          <h2 class="name">Kristian Winfield</h2>
          <p class="meta">NYC beat / Knicks</p>
          <div class="stats">
            <div class="pill"><span>Avg</span> <strong class="avg">â€”</strong></div>
            <div class="pill"><span>Votes</span> <strong class="votes">â€”</strong></div>
          </div>
          <input type="hidden" name="REPLACE_ENTRY_PERSON" value="Kristian Winfield">
          <label>Your Rating</label>
          <select name="REPLACE_ENTRY_RATING" required>
            <option value="" disabled selected>Select your rating</option>
            <option value="10">10 â€“ GOAT ğŸ</option><option value="9">9 â€“ Elite ğŸ™ï¸</option><option value="8">8 â€“ Great Take ğŸ”¥</option>
            <option value="7">7 â€“ Solid ğŸ—½</option><option value="6">6 â€“ Decent ğŸ‘</option><option value="5">5 â€“ Mid ğŸŸ°</option>
            <option value="4">4 â€“ Weak Take ğŸ’¤</option><option value="3">3 â€“ Reaching ğŸ¤¨</option><option value="2">2 â€“ Clickbait ğŸ§²</option>
            <option value="1">1 â€“ Trash ğŸ—‘ï¸</option>
          </select>
          <button class="btn" type="submit">Submit Vote</button>
          <div class="confirm">Thanks! Your vote was recorded.</div>
        </div>
      </form>

      <!-- 9) Steve Popper -->
      <form class="card ku-card" data-name="Steve Popper"
            action="REPLACE_FORM_ACTION_URL" method="POST" target="ku_hidden_submit_local">
        <div class="imgwrap"><img class="img" src="images/local/steve_popper.jpg" alt="Steve Popper"></div>
        <div class="content">
          <h2 class="name">Steve Popper</h2>
          <p class="meta">NYC beat / Knicks</p>
          <div class="stats">
            <div class="pill"><span>Avg</span> <strong class="avg">â€”</strong></div>
            <div class="pill"><span>Votes</span> <strong class="votes">â€”</strong></div>
          </div>
          <input type="hidden" name="REPLACE_ENTRY_PERSON" value="Steve Popper">
          <label>Your Rating</label>
          <select name="REPLACE_ENTRY_RATING" required>
            <option value="" disabled selected>Select your rating</option>
            <option value="10">10 â€“ GOAT ğŸ</option><option value="9">9 â€“ Elite ğŸ™ï¸</option><option value="8">8 â€“ Great Take ğŸ”¥</option>
            <option value="7">7 â€“ Solid ğŸ—½</option><option value="6">6 â€“ Decent ğŸ‘</option><option value="5">5 â€“ Mid ğŸŸ°</option>
            <option value="4">4 â€“ Weak Take ğŸ’¤</option><option value="3">3 â€“ Reaching ğŸ¤¨</option><option value="2">2 â€“ Clickbait ğŸ§²</option>
            <option value="1">1 â€“ Trash ğŸ—‘ï¸</option>
          </select>
          <button class="btn" type="submit">Submit Vote</button>
          <div class="confirm">Thanks! Your vote was recorded.</div>
        </div>
      </form>

      <!-- 10) James Edwards III -->
      <form class="card ku-card" data-name="James Edwards III"
            action="REPLACE_FORM_ACTION_URL" method="POST" target="ku_hidden_submit_local">
        <div class="imgwrap"><img class="img" src="images/local/james_edwards_iii.jpg" alt="James Edwards III"></div>
        <div class="content">
          <h2 class="name">James Edwards III</h2>
          <p class="meta">The Athletic / NYC</p>
          <div class="stats">
            <div class="pill"><span>Avg</span> <strong class="avg">â€”</strong></div>
            <div class="pill"><span>Votes</span> <strong class="votes">â€”</strong></div>
          </div>
          <input type="hidden" name="REPLACE_ENTRY_PERSON" value="James Edwards III">
          <label>Your Rating</label>
          <select name="REPLACE_ENTRY_RATING" required>
            <option value="" disabled selected>Select your rating</option>
            <option value="10">10 â€“ GOAT ğŸ</option><option value="9">9 â€“ Elite ğŸ™ï¸</option><option value="8">8 â€“ Great Take ğŸ”¥</option>
            <option value="7">7 â€“ Solid ğŸ—½</option><option value="6">6 â€“ Decent ğŸ‘</option><option value="5">5 â€“ Mid ğŸŸ°</option>
            <option value="4">4 â€“ Weak Take ğŸ’¤</option><option value="3">3 â€“ Reaching ğŸ¤¨</option><option value="2">2 â€“ Clickbait ğŸ§²</option>
            <option value="1">1 â€“ Trash ğŸ—‘ï¸</option>
          </select>
          <button class="btn" type="submit">Submit Vote</button>
          <div class="confirm">Thanks! Your vote was recorded.</div>
        </div>
      </form>

      <!-- 11) Mike Lupica -->
      <form class="card ku-card" data-name="Mike Lupica"
            action="REPLACE_FORM_ACTION_URL" method="POST" target="ku_hidden_submit_local">
        <div class="imgwrap"><img class="img" src="images/local/mike_lupica.jpg" alt="Mike Lupica"></div>
        <div class="content">
          <h2 class="name">Mike Lupica</h2>
          <p class="meta">NYC sports / commentary</p>
          <div class="stats">
            <div class="pill"><span>Avg</span> <strong class="avg">â€”</strong></div>
            <div class="pill"><span>Votes</span> <strong class="votes">â€”</strong></div>
          </div>
          <input type="hidden" name="REPLACE_ENTRY_PERSON" value="Mike Lupica">
          <label>Your Rating</label>
          <select name="REPLACE_ENTRY_RATING" required>
            <option value="" disabled selected>Select your rating</option>
            <option value="10">10 â€“ GOAT ğŸ</option><option value="9">9 â€“ Elite ğŸ™ï¸</option><option value="8">8 â€“ Great Take ğŸ”¥</option>
            <option value="7">7 â€“ Solid ğŸ—½</option><option value="6">6 â€“ Decent ğŸ‘</option><option value="5">5 â€“ Mid ğŸŸ°</option>
            <option value="4">4 â€“ Weak Take ğŸ’¤</option><option value="3">3 â€“ Reaching ğŸ¤¨</option><option value="2">2 â€“ Clickbait ğŸ§²</option>
            <option value="1">1 â€“ Trash ğŸ—‘ï¸</option>
          </select>
          <button class="btn" type="submit">Submit Vote</button>
          <div class="confirm">Thanks! Your vote was recorded.</div>
        </div>
      </form>

      <!-- 12) Brandon Tierney -->
      <form class="card ku-card" data-name="Brandon Tierney"
            action="REPLACE_FORM_ACTION_URL" method="POST" target="ku_hidden_submit_local">
        <div class="imgwrap"><img class="img" src="images/local/brandon_tierney.jpg" alt="Brandon Tierney"></div>
        <div class="content">
          <h2 class="name">Brandon Tierney</h2>
          <p class="meta">WFAN / NYC radio</p>
          <div class="stats">
            <div class="pill"><span>Avg</span> <strong class="avg">â€”</strong></div>
            <div class="pill"><span>Votes</span> <strong class="votes">â€”</strong></div>
          </div>
          <input type="hidden" name="REPLACE_ENTRY_PERSON" value="Brandon Tierney">
          <label>Your Rating</label>
          <select name="REPLACE_ENTRY_RATING" required>
            <option value="" disabled selected>Select your rating</option>
            <option value="10">10 â€“ GOAT ğŸ</option><option value="9">9 â€“ Elite ğŸ™ï¸</option><option value="8">8 â€“ Great Take ğŸ”¥</option>
            <option value="7">7 â€“ Solid ğŸ—½</option><option value="6">6 â€“ Decent ğŸ‘</option><option value="5">5 â€“ Mid ğŸŸ°</option>
            <option value="4">4 â€“ Weak Take ğŸ’¤</option><option value="3">3 â€“ Reaching ğŸ¤¨</option><option value="2">2 â€“ Clickbait ğŸ§²</option>
            <option value="1">1 â€“ Trash ğŸ—‘ï¸</option>
          </select>
          <button class="btn" type="submit">Submit Vote</button>
          <div class="confirm">Thanks! Your vote was recorded.</div>
        </div>
      </form>

    </div>

    <footer>
      Tip: Upload your headshots into <code>/images/local/</code> in this repo so the images load consistently.
      Live averages use your published Google Sheet CSV, so donâ€™t rename column headers after you launch.
    </footer>
  </div>

  <script>
    /************************************************************
     * âœ… STEP 1 â€” PASTE YOUR LINKS/ENTRY IDS HERE
     ************************************************************/
    const FORM_ACTION_URL = "REPLACE_FORM_ACTION_URL";
    const ENTRY_PERSON = "REPLACE_ENTRY_PERSON"; // example: entry.756421029
    const ENTRY_RATING = "REPLACE_ENTRY_RATING"; // example: entry.1446795869

    // Published CSV (like your National Media page)
    const SHEET_CSV_URL = "REPLACE_SHEET_CSV_URL";

    /************************************************************
     * âœ… STEP 2 â€” APPLY FORM SETTINGS TO EVERY CARD
     ************************************************************/
    (function initForms(){
      document.querySelectorAll(".ku-card").forEach(form => {
        form.action = FORM_ACTION_URL;

        const hidden = form.querySelector('input[type="hidden"]');
        if (hidden) hidden.name = ENTRY_PERSON;

        const sel = form.querySelector("select");
        if (sel) sel.name = ENTRY_RATING;
      });
    })();

    /************************************************************
     * âœ… STEP 3 â€” UX: CONFIRMATION, DISABLE BUTTON, REFRESH DATA
     ************************************************************/
    (function wireSubmitUX(){
      document.querySelectorAll(".ku-card").forEach(form => {
        const btn = form.querySelector(".btn");
        const confirm = form.querySelector(".confirm");
        const sel = form.querySelector("select");

        form.addEventListener("submit", () => {
          if (btn) btn.disabled = true;
          if (confirm) confirm.classList.add("show");

          setTimeout(() => {
            if (btn) btn.disabled = false;
            if (sel) sel.selectedIndex = 0;
          }, 1500);

          // refresh averages after vote
          setTimeout(loadFromSheetCSV, 2000);
        });
      });
    })();

    /************************************************************
     * âœ… STEP 4 â€” LIVE AVG + VOTES FROM CSV
     * Expected columns in Sheet:
     *  - "Media Personality" (or similar)
     *  - "Rating" (1..10)
     ************************************************************/
    function parseCSV(text){
      // Handles commas inside quotes
      const rows = [];
      let row = [], cur = "", inQuotes = false;

      for (let i=0; i<text.length; i++){
        const c = text[i];
        const next = text[i+1];

        if (c === '"' && inQuotes && next === '"') { cur += '"'; i++; continue; }
        if (c === '"') { inQuotes = !inQuotes; continue; }

        if (c === "," && !inQuotes) { row.push(cur); cur = ""; continue; }
        if ((c === "\n" || c === "\r") && !inQuotes) {
          if (cur.length || row.length) { row.push(cur); rows.push(row); }
          row = []; cur = "";
          continue;
        }
        cur += c;
      }
      if (cur.length || row.length) { row.push(cur); rows.push(row); }
      return rows.filter(r => r.some(x => String(x).trim() !== ""));
    }

    function getCardByPerson(person){
      const cards = document.querySelectorAll(".ku-card");
      for (const c of cards){
        const nm = c.getAttribute("data-name") || "";
        if (nm.trim() === person.trim()) return c;
      }
      return null;
    }

    function setCardStats(person, avg, votes){
      const card = getCardByPerson(person);
      if (!card) return;

      const avgEl = card.querySelector(".avg");
      const votesEl = card.querySelector(".votes");

      card.dataset.avg = String(avg || 0);
      card.dataset.votes = String(votes || 0);

      if (avgEl) avgEl.textContent = votes ? avg.toFixed(1) : "â€”";
      if (votesEl) votesEl.textContent = votes ? String(votes) : "â€”";
    }

    async function loadFromSheetCSV(){
      if (!SHEET_CSV_URL || SHEET_CSV_URL.includes("REPLACE_")) return;

      try{
        const resp = await fetch(SHEET_CSV_URL, { cache: "no-store" });
        const text = await resp.text();
        const rows = parseCSV(text);
        if (rows.length < 2) return;

        const headers = rows[0].map(h => String(h).trim());
        // Try to auto-detect common column names
        const idxPerson =
          headers.findIndex(h => /media personality|personality|name/i.test(h));
        const idxRating =
          headers.findIndex(h => /rating|score/i.test(h));

        if (idxPerson === -1 || idxRating === -1){
          console.warn("CSV headers not recognized. Found:", headers);
          return;
        }

        const sums = {};
        const counts = {};

        for (let i=1; i<rows.length; i++){
          const r = rows[i];
          const person = (r[idxPerson] || "").trim();
          const ratingRaw = (r[idxRating] || "").trim();

          if (!person) continue;
          const rating = Number(String(ratingRaw).replace(/[^\d.]/g,""));
          if (!Number.isFinite(rating)) continue;

          if (!sums[person]) { sums[person]=0; counts[person]=0; }
          sums[person] += rating;
          counts[person] += 1;
        }

        // Update all known cards (use their data-name key)
        document.querySelectorAll(".ku-card").forEach(card => {
          const person = card.getAttribute("data-name") || "";
          const votes = counts[person] || 0;
          const avg = votes ? (sums[person] / votes) : 0;
          setCardStats(person, avg, votes);
        });

        // Apply current sort after refresh
        sortCards(currentSortMode);
      } catch(err){
        console.error("KnicksUniverse Local: error loading CSV", err);
      }
    }

    /************************************************************
     * âœ… STEP 5 â€” SORTING (rating desc, then votes desc)
     ************************************************************/
    let currentSortMode = "rating";

    function getName(card){
      const h = card.querySelector(".name");
      return h ? h.textContent.trim() : (card.getAttribute("data-name") || "");
    }

    function sortCards(mode){
      currentSortMode = mode;
      const grid = document.getElementById("cardsGrid");
      if (!grid) return;

      const cards = Array.from(grid.querySelectorAll(".ku-card"));

      cards.sort((a, b) => {
        const aAvg = parseFloat(a.dataset.avg || "0");
        const bAvg = parseFloat(b.dataset.avg || "0");
        const aVotes = parseInt(a.dataset.votes || "0", 10);
        const bVotes = parseInt(b.dataset.votes || "0", 10);

        if (mode === "votes") {
          if (bVotes !== aVotes) return bVotes - aVotes;
          return bAvg - aAvg;
        }

        if (mode === "az") {
          return getName(a).localeCompare(getName(b));
        }

        // mode === "rating"
        if (bAvg !== aAvg) return bAvg - aAvg;
        if (bVotes !== aVotes) return bVotes - aVotes;
        return getName(a).localeCompare(getName(b));
      });

      cards.forEach(c => grid.appendChild(c));
    }

    function initSortButtons(){
      const btns = document.querySelectorAll(".sortbtn");
      btns.forEach(btn => {
        btn.addEventListener("click", () => {
          btns.forEach(b => b.classList.remove("active"));
          btn.classList.add("active");
          sortCards(btn.dataset.sort);
        });
      });
    }

    /************************************************************
     * âœ… BOOT
     ************************************************************/
    document.addEventListener("DOMContentLoaded", () => {
      initSortButtons();
      loadFromSheetCSV();
      // refresh periodically
      setInterval(loadFromSheetCSV, 30000);
    });
  </script>
</body>
</html>

